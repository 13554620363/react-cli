{"ast":null,"code":"var _jsxFileName = \"/Users/hucong/Desktop/workspace/react-cli/src/router.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nvar nodePath = require('path');\n\nvar RouterContainer = function RouterContainer(props) {\n  var routes = props.routes || [];\n  routes.forEach(function (item, i, arr) {\n    if (item.component) {\n      if (item.routes) {\n        item.routes.unshift({\n          title: item.title,\n          path: '',\n          exact: true,\n          dir: '',\n          component: item.component ? item.component : SubLayout\n        });\n        delete item.component;\n      }\n    }\n\n    item.dir = props.match ? props.match.path : '';\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Route, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, routes.length > 0 ? React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, routes.map(function (route, i) {\n    var path = nodePath.normalize(\"\".concat(route.dir).concat(route.path));\n    var Component = route.component ? route.component : RouterContainer;\n    return React.createElement(Route, {\n      path: path,\n      key: i,\n      exact: route.exact ? true : false,\n      render: function render(props) {\n        return React.createElement(Component, Object.assign({}, props, {\n          routes: route.routes,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    });\n  }), \"\".concat(routes[0].dir) === '' || \"\".concat(routes[0].dir) === '/' ? React.createElement(Redirect, {\n    to: routes[0].path,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }) : null) : null));\n};\n\nexport default RouterContainer;","map":{"version":3,"sources":["/Users/hucong/Desktop/workspace/react-cli/src/router.js"],"names":["React","Component","Route","Switch","Redirect","nodePath","require","RouterContainer","props","routes","forEach","item","i","arr","component","unshift","title","path","exact","dir","SubLayout","match","length","map","route","normalize"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,kBAAxC;;AAEA,IAAMC,QAAQ,GAAGC,OAAO,CAAC,MAAD,CAAxB;;AAEA,IAAIC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAAN,IAAgB,EAA/B;AAEAA,EAAAA,MAAM,CAACC,OAAP,CAAe,UAACC,IAAD,EAAOC,CAAP,EAAUC,GAAV,EAAkB;AAC/B,QAAIF,IAAI,CAACG,SAAT,EAAoB;AAClB,UAAIH,IAAI,CAACF,MAAT,EAAiB;AACfE,QAAAA,IAAI,CAACF,MAAL,CAAYM,OAAZ,CAAoB;AAClBC,UAAAA,KAAK,EAAEL,IAAI,CAACK,KADM;AAElBC,UAAAA,IAAI,EAAE,EAFY;AAGlBC,UAAAA,KAAK,EAAE,IAHW;AAIlBC,UAAAA,GAAG,EAAE,EAJa;AAKlBL,UAAAA,SAAS,EAAEH,IAAI,CAACG,SAAL,GAAiBH,IAAI,CAACG,SAAtB,GAAkCM;AAL3B,SAApB;AAOA,eAAOT,IAAI,CAACG,SAAZ;AACD;AACF;;AACDH,IAAAA,IAAI,CAACQ,GAAL,GAAWX,KAAK,CAACa,KAAN,GAAcb,KAAK,CAACa,KAAN,CAAYJ,IAA1B,GAAiC,EAA5C;AACD,GAdD;AAiBA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEER,MAAM,CAACa,MAAP,GAAgB,CAAhB,GACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,MAAM,CAACc,GAAP,CAAW,UAACC,KAAD,EAAQZ,CAAR,EAAc;AACxB,QAAMK,IAAI,GAAGZ,QAAQ,CAACoB,SAAT,WAAsBD,KAAK,CAACL,GAA5B,SAAkCK,KAAK,CAACP,IAAxC,EAAb;AACA,QAAMhB,SAAS,GAAGuB,KAAK,CAACV,SAAN,GAAkBU,KAAK,CAACV,SAAxB,GAAoCP,eAAtD;AACA,WACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAEU,IAAb;AAAmB,MAAA,GAAG,EAAEL,CAAxB;AAA2B,MAAA,KAAK,EAAEY,KAAK,CAACN,KAAN,GAAc,IAAd,GAAqB,KAAvD;AAA8D,MAAA,MAAM,EAAE,gBAAAV,KAAK;AAAA,eAAK,oBAAC,SAAD,oBAAeA,KAAf;AAAsB,UAAA,MAAM,EAAEgB,KAAK,CAACf,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAL;AAAA,OAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD,GANA,CADH,EASI,UAAGA,MAAM,CAAC,CAAD,CAAN,CAAUU,GAAb,MAAuB,EAAvB,IAA6B,UAAGV,MAAM,CAAC,CAAD,CAAN,CAAUU,GAAb,MAAuB,GAApD,GAA0D,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAEV,MAAM,CAAC,CAAD,CAAN,CAAUQ,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA1D,GAA6F,IATjG,CADF,GAaI,IAfN,CADF,CADF;AAsBD,CA1CD;;AA4CA,eAAeV,eAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nconst nodePath = require('path');\n\nlet RouterContainer = (props) => {\n  const routes = props.routes || [];\n\n  routes.forEach((item, i, arr) => {\n    if (item.component) {\n      if (item.routes) {\n        item.routes.unshift({\n          title: item.title,\n          path: '',\n          exact: true,\n          dir: '',\n          component: item.component ? item.component : SubLayout\n        });\n        delete item.component;\n      }\n    }\n    item.dir = props.match ? props.match.path : '';\n  });\n\n\n  return (\n    <div>\n      <Route>\n      {\n        routes.length > 0 ?\n          <Switch>\n            {routes.map((route, i) => {\n              const path = nodePath.normalize(`${route.dir}${route.path}`);\n              const Component = route.component ? route.component : RouterContainer;\n              return (\n                <Route path={path} key={i} exact={route.exact ? true : false} render={props => (<Component {...props} routes={route.routes} />)} />\n              );\n            })}\n            {\n              `${routes[0].dir}` === '' || `${routes[0].dir}` === '/' ? <Redirect to={routes[0].path} /> : null\n            }\n          </Switch>\n          : null\n      }\n    </Route>\n    </div>\n  );\n}\n\nexport default RouterContainer;\n"]},"metadata":{},"sourceType":"module"}