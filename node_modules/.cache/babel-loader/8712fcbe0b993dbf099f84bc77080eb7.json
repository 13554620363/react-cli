{"ast":null,"code":"// import _ from 'lodash';\nimport axios from 'axios'; // console.log(fetch)\n// let Data = {}\n// const ajax = ({ url, method = 'get', headers = {}, ...options }) => {\n//   if (!url) {\n//     throw new Error(\"Property 'url' should not be empty!\");\n//   }\n//   if (url.indexOf('/') != 0 && url.indexOf('http') != 0) {\n//     // url = `${URL_PREFIX}/${url}`;\n//   }\n//   const isFormData = options.isFormData;\n//   const originHeaders = {\n//       'Content-Type': 'application/json;charset=utf-8',\n//   };\n//   const headersNew = !isFormData ? originHeaders : isFormData;\n//   return axios(url, {\n//     method,\n//     headers: {\n//         ...headersNew,\n//         ...headers\n//     },\n//     ...options\n//   })\n//     .then(response => {\n//       return response.json();\n//     })\n//     .then(res => {\n//       return newResult || res;\n//     })\n//     .catch(err => {\n//       console.error(err);\n//       return Promise.resolve();\n//     });\n// };\n// // get 请求\n// Data.get = ({ method, body, ...options }) => {\n//   // 把body的参数拼接到url中，并把body参数去掉\n//   if (_.isPlainObject(body)) {\n//     let url = options.url;\n//     if (url.indexOf('?') == -1) {\n//       url += '?';\n//     }\n//     for (let key in body) {\n//       url += `${key}=${body[key]}&`;\n//     }\n//     options.url = url.substring(0, url.length - 1);\n//   }\n//   return ajax({\n//     method: 'get',\n//     ...options\n//   });\n// };\n// // post 请求\n// Data.post = ({ method, params, body, ...options }) => {\n//   if (_.isPlainObject(params)) {\n//     params = JSON.stringify(params);\n//   }\n//   if (body || params) {\n//     options.body = body || params;\n//   }\n//   return ajax({\n//     method: 'post',\n//     ...options\n//   });\n// };\n\nexport default axios;","map":{"version":3,"sources":["/Users/hucong/Desktop/workspace/creat-app/my/src/client/data/index.js"],"names":["axios"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAgBA,KAAhB","sourcesContent":["// import _ from 'lodash';\r\nimport axios from 'axios'\r\n// console.log(fetch)\r\n// let Data = {}\r\n// const ajax = ({ url, method = 'get', headers = {}, ...options }) => {\r\n//   if (!url) {\r\n//     throw new Error(\"Property 'url' should not be empty!\");\r\n//   }\r\n\r\n//   if (url.indexOf('/') != 0 && url.indexOf('http') != 0) {\r\n//     // url = `${URL_PREFIX}/${url}`;\r\n//   }\r\n//   const isFormData = options.isFormData;\r\n//   const originHeaders = {\r\n//       'Content-Type': 'application/json;charset=utf-8',\r\n//   };\r\n//   const headersNew = !isFormData ? originHeaders : isFormData;\r\n//   return axios(url, {\r\n//     method,\r\n//     headers: {\r\n//         ...headersNew,\r\n//         ...headers\r\n//     },\r\n//     ...options\r\n//   })\r\n//     .then(response => {\r\n//       return response.json();\r\n//     })\r\n//     .then(res => {\r\n//       return newResult || res;\r\n//     })\r\n//     .catch(err => {\r\n//       console.error(err);\r\n//       return Promise.resolve();\r\n//     });\r\n// };\r\n\r\n// // get 请求\r\n// Data.get = ({ method, body, ...options }) => {\r\n//   // 把body的参数拼接到url中，并把body参数去掉\r\n//   if (_.isPlainObject(body)) {\r\n//     let url = options.url;\r\n\r\n//     if (url.indexOf('?') == -1) {\r\n//       url += '?';\r\n//     }\r\n\r\n//     for (let key in body) {\r\n//       url += `${key}=${body[key]}&`;\r\n//     }\r\n\r\n//     options.url = url.substring(0, url.length - 1);\r\n//   }\r\n\r\n//   return ajax({\r\n//     method: 'get',\r\n//     ...options\r\n//   });\r\n// };\r\n\r\n// // post 请求\r\n// Data.post = ({ method, params, body, ...options }) => {\r\n//   if (_.isPlainObject(params)) {\r\n//     params = JSON.stringify(params);\r\n//   }\r\n\r\n//   if (body || params) {\r\n//     options.body = body || params;\r\n//   }\r\n\r\n//   return ajax({\r\n//     method: 'post',\r\n//     ...options\r\n//   });\r\n// };\r\n\r\nexport default  axios;\r\n"]},"metadata":{},"sourceType":"module"}